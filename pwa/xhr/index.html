<!-- 测试 XMLHttpRequest 会不会在 fetch 生命周期被拦截 -->
<!-- 结论是可以的 -->
<!DOCTYPE html>
<head>

</head>
<body>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
      });
    }
    function req(url) {
      var xhr = new XMLHttpRequest();
      xhr.open('GET', url, true);
      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');
    
      xhr.send();
    }
    req('https://api.github.com/repos/pbdm/posts/commits?path=/2017-11-28-cpp.md&page=1&per_page=1')
  </script>

</body>
</html>
